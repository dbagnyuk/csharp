Лабораторна №4

Кількість інверсій

Напишіть програму, що виведе кількість інверсій в масиві.
Припустимо, що A[1…n] – це масив, який складається з n різних чисел. Якщо i < j та A[i] > A[j], то пара (i, j) називається інверсією в масиві A. Задача полягає в тому, щоб знайти кількість всіх інверсій в заданому масиві.

Наприклад в масиві {5, 4, 10, 8} дві інверсії: (5, 4) та (10, 8)

Одним з прикладів застосування інверсій є обчислення того, наскільки вподобання різних людей подібні. Наприклад, якщо дві людини – Джон та Рон – вирішили взнати наскільки їх вподобання книжок подібні, то все, що їм треба зробити – це записати свій топ-3(нема різниці скільки) книжок і порахувати кількість інверсій. Наприклад :
Нехай Джон має такий топ-3:
Harry Potter(1), The Maze Runner(2), Заповіт(3)
А Рон такий :
The Maze Runner(2), Заповіт(3), Harry Potter(1)
Тоді кількість інверсій в списку Рона: 2. Чим менше число інверсій – тим більш подібні вподобання.

Підказка: можна модифікувати алгоритм сортування злиттям, щоб отримати кількість інверсій. Уявімо, що маємо такий масив 1 5 8 3 7 10. Як ми бачимо, що якщо розділити масив на дві половинки, кожна з них(половинок) вже є відсортованою. 1 5 8 та 3 7 10. В межах кожного окремого підмасиву інверсій немає. Давайте спробуємо знайти інверсії в процесі злиття цих двох підмасивів.
Беремо перший елемент з лівого підмасиву : 1
Порівнюємо його з першим елементом правого підмасиву: 3
1 < 3, тому записуємо в результуючий масив 1.
Беремо другий елемент з лівого підмасиву : 5
Порівнюємо його з першим елементом правого підмасиву: 3
5 > 3, тому записуємо в результуючий масив 3. Це інверсія, адже елемент зліва більший за елемент справа(кількість інверсій = кількість інверсій + 1 => 1). Цікаве спостереження: оскільки лівий підмасив вже відсортований, то всі елементи лівого підмасиву, що знаходяться після 5 теж більше 3. Тобто до кількості інверсій ми можемо додати кількість елементів, що стоять після 5.( (кількість інверсій = кількість інверсій + 1(тільки один елемент стоїть після 5 – це 8)=>2) Беремо другий елемент з правого підмасиву : 7
Порівнюємо його з другим елементом лівого підмасиву: 5
5 < 7, тому записуємо в результуючий масив 5.
Беремо третій елемент з лівого підмасиву : 8
Порівнюємо його з другим елементом правого підмасиву: 7
8 > 7, тому записуємо в результуючий масив 7. Це інверсія, адже елемент зліва більший за елемент справа(кількість інверсій = кількість інверсій + 1 => 1)(тут так само до кількості інверсій ми можемо додати кількість елементів, що стоять після 8, але таких немає, тому нічого не робимо) Беремо третій елемент з правого підмасиву : 10
Порівнюємо його з першим елементом лівого підмасиву: 8
8 < 10, тому записуємо в результуючий масив 8.
Записуємо в результуючий масив 10.
Завдання: В першому рядку виведіть кількість інверсій в масиві. (Використовуйте такий запис для виведення Console.Write($"{inversionsCount}");)
